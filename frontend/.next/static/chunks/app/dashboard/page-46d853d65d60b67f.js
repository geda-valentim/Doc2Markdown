(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{650:(e,s,t)=>{Promise.resolve().then(t.bind(t,6690))},6651:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(1847).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},6690:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>v});var a=t(5155),r=t(2115),l=t(63),i=t(549),n=t(9715),d=t(5370),c=t(6651),o=t(1847);let x=(0,o.A)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),m=(0,o.A)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);var u=t(5895),h=t(5036),p=t(7003),j=t(3209);let g=(0,o.A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var f=t(5016);function y(e){let{onFileSelect:s,selectedFile:t,onClear:l}=e,[i,d]=(0,r.useState)(!1),c=(0,r.useCallback)(e=>{e.preventDefault(),e.stopPropagation()},[]),o=(0,r.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),e.dataTransfer.items&&e.dataTransfer.items.length>0&&d(!0)},[]),x=(0,r.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),d(!1)},[]),u=(0,r.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),d(!1);let t=e.dataTransfer.files;t&&t.length>0&&s(t[0])},[s]);return(0,a.jsx)("div",{className:"w-full",children:t?(0,a.jsx)("div",{className:"border rounded-lg p-4 bg-muted/30",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"rounded-md bg-primary/10 p-2",children:(0,a.jsx)(n.A,{className:"h-5 w-5 text-primary"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:t.name}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:(e=>{if(0===e)return"0 Bytes";let s=Math.floor(Math.log(e)/Math.log(1024));return Math.round(e/Math.pow(1024,s)*100)/100+" "+["Bytes","KB","MB","GB"][s]})(t.size)})]})]}),(0,a.jsx)(p.$,{variant:"ghost",size:"icon",onClick:l,className:"h-8 w-8",children:(0,a.jsx)(g,{className:"h-4 w-4"})})]})}):(0,a.jsxs)("div",{className:(0,f.cn)("relative border-2 border-dashed rounded-lg p-8 transition-all duration-200",i?"border-primary bg-primary/5 scale-[1.02]":"border-border hover:border-primary/50"),onDragEnter:o,onDragLeave:x,onDragOver:c,onDrop:u,children:[(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-4 text-center",children:[(0,a.jsx)("div",{className:"rounded-full bg-primary/10 p-4",children:(0,a.jsx)(m,{className:"h-8 w-8 text-primary"})}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("p",{className:"text-lg font-medium",children:"Drag & drop your file here"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"or click to browse"})]}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"Supported formats: PDF, DOCX, DOC, HTML, PPTX, XLSX, RTF, ODT"})]}),(0,a.jsx)("input",{type:"file",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",onChange:e=>{let t=e.target.files;t&&t.length>0&&s(t[0])},accept:".pdf,.docx,.doc,.html,.pptx,.xlsx,.rtf,.odt"})]})})}var b=t(6170),N=t(235);function v(){let e=(0,l.useRouter)(),{user:s,clearAuth:t,isAuthenticated:o}=(0,u.n)(),[g,f]=(0,r.useState)(null),[v,k]=(0,r.useState)(""),[w,D]=(0,r.useState)(null);(0,r.useEffect)(()=>{o()||e.push("/login")},[o,e]);let M=(0,i.n)({mutationFn:h.Bt.upload,onSuccess:s=>{D(s.job_id),f(null),k(""),setTimeout(()=>{e.push("/jobs/".concat(s.job_id))},2e3)}});return s?(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted",children:[(0,a.jsx)("header",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:(0,a.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(n.A,{className:"h-6 w-6 text-primary"}),(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"Doc2MD"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("span",{className:"text-sm text-muted-foreground",children:["Welcome, ",(0,a.jsx)("span",{className:"font-medium text-foreground",children:s.username})]}),(0,a.jsxs)(p.$,{variant:"outline",size:"sm",onClick:()=>e.push("/api-keys"),children:[(0,a.jsx)(d.A,{className:"h-4 w-4 mr-2"}),"API Keys"]}),(0,a.jsxs)(p.$,{variant:"outline",size:"sm",onClick:()=>e.push("/jobs"),children:[(0,a.jsx)(c.A,{className:"h-4 w-4 mr-2"}),"My Jobs"]}),(0,a.jsxs)(p.$,{variant:"ghost",size:"sm",onClick:()=>{t(),e.push("/login")},children:[(0,a.jsx)(x,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})})}),(0,a.jsx)("main",{className:"container mx-auto px-4 py-12",children:(0,a.jsxs)("div",{className:"max-w-3xl mx-auto space-y-8",children:[(0,a.jsxs)(j.Zp,{children:[(0,a.jsxs)(j.aR,{children:[(0,a.jsxs)(j.ZB,{className:"flex items-center space-x-2",children:[(0,a.jsx)(m,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"Upload Document"})]}),(0,a.jsx)(j.BT,{children:"Upload your document to convert it to Markdown format"})]}),(0,a.jsxs)(j.Wu,{className:"space-y-6",children:[w&&(0,a.jsxs)("div",{className:"rounded-md bg-green-500/10 border border-green-500/20 p-4 text-sm text-green-600 dark:text-green-400",children:[(0,a.jsx)("p",{className:"font-medium",children:"Upload successful!"}),(0,a.jsxs)("p",{className:"text-xs mt-1",children:["Job ID: ",w]}),(0,a.jsx)("p",{className:"text-xs mt-1",children:"Redirecting to job status..."})]}),M.isError&&(0,a.jsx)("div",{className:"rounded-md bg-destructive/10 border border-destructive/20 p-4 text-sm text-destructive",children:"Upload failed. Please try again."}),(0,a.jsx)(y,{onFileSelect:f,selectedFile:g,onClear:()=>f(null)}),g&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(N.J,{htmlFor:"customName",children:"Custom Name (Optional)"}),(0,a.jsx)(b.p,{id:"customName",type:"text",placeholder:"e.g., Monthly Report 2025",value:v,onChange:e=>k(e.target.value)}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"If not provided, the filename will be used"})]}),(0,a.jsx)(p.$,{onClick:()=>{g&&M.mutate({file:g,name:v||void 0})},disabled:!g||M.isPending,className:"w-full",size:"lg",children:M.isPending?"Uploading...":"Convert to Markdown"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)(j.Zp,{children:[(0,a.jsx)(j.aR,{children:(0,a.jsx)(j.ZB,{className:"text-lg",children:"Supported Formats"})}),(0,a.jsx)(j.Wu,{children:(0,a.jsxs)("ul",{className:"text-sm space-y-2 text-muted-foreground",children:[(0,a.jsx)("li",{children:"• PDF Documents"}),(0,a.jsx)("li",{children:"• Microsoft Word (DOCX, DOC)"}),(0,a.jsx)("li",{children:"• HTML Files"}),(0,a.jsx)("li",{children:"• PowerPoint (PPTX)"}),(0,a.jsx)("li",{children:"• Excel (XLSX)"}),(0,a.jsx)("li",{children:"• Rich Text Format (RTF)"}),(0,a.jsx)("li",{children:"• OpenDocument Text (ODT)"})]})})]}),(0,a.jsxs)(j.Zp,{children:[(0,a.jsx)(j.aR,{children:(0,a.jsx)(j.ZB,{className:"text-lg",children:"How It Works"})}),(0,a.jsx)(j.Wu,{children:(0,a.jsxs)("ol",{className:"text-sm space-y-2 text-muted-foreground",children:[(0,a.jsx)("li",{children:"1. Upload your document"}),(0,a.jsx)("li",{children:"2. Processing starts automatically"}),(0,a.jsx)("li",{children:"3. Track progress in real-time"}),(0,a.jsx)("li",{children:"4. Download Markdown output"}),(0,a.jsx)("li",{children:"5. Search and manage your jobs"})]})})]})]})]})})]}):(0,a.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:(0,a.jsx)("div",{className:"text-muted-foreground",children:"Loading..."})})}},9715:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(1847).A)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])}},e=>{e.O(0,[643,64,315,921,441,255,358],()=>e(e.s=650)),_N_E=e.O()}]);