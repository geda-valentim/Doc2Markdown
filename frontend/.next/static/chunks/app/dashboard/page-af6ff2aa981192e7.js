(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{235:(e,t,s)=>{"use strict";s.d(t,{J:()=>c});var a=s(5155),r=s(2115),o=s(489),n=s(3101),l=s(5016);let i=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(o.b,{ref:t,className:(0,l.cn)(i(),s),...r})});c.displayName=o.b.displayName},677:(e,t,s)=>{Promise.resolve().then(s.bind(s,1225))},1225:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>D});var a=s(5155),r=s(2115),o=s(63),n=s(549),l=s(9715),i=s(5370),c=s(6651),d=s(4926),u=s(1786),m=s(859),h=s(2320),x=s(5895),p=s(7621),f=s(7003),g=s(3209),j=s(5111),v=s(5016);let b=j.bL,y=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(j.B8,{ref:t,className:(0,v.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...r})});y.displayName=j.B8.displayName;let N=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(j.l9,{ref:t,className:(0,v.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...r})});N.displayName=j.l9.displayName;let w=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(j.UC,{ref:t,className:(0,v.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...r})});w.displayName=j.UC.displayName;var k=s(5229);function C(e){let{onFileSelect:t,selectedFile:s,onClear:o}=e,[n,i]=(0,r.useState)(!1),c=(0,r.useCallback)(e=>{e.preventDefault(),e.stopPropagation()},[]),d=(0,r.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),e.dataTransfer.items&&e.dataTransfer.items.length>0&&i(!0)},[]),m=(0,r.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),i(!1)},[]),h=(0,r.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),i(!1);let s=e.dataTransfer.files;s&&s.length>0&&t(s[0])},[t]);return(0,a.jsx)("div",{className:"w-full",children:s?(0,a.jsx)("div",{className:"border rounded-lg p-4 bg-muted/30",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"rounded-md bg-primary/10 p-2",children:(0,a.jsx)(l.A,{className:"h-5 w-5 text-primary"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:s.name}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:(e=>{if(0===e)return"0 Bytes";let t=Math.floor(Math.log(e)/Math.log(1024));return Math.round(e/Math.pow(1024,t)*100)/100+" "+["Bytes","KB","MB","GB"][t]})(s.size)})]})]}),(0,a.jsx)(f.$,{variant:"ghost",size:"icon",onClick:o,className:"h-8 w-8",children:(0,a.jsx)(k.A,{className:"h-4 w-4"})})]})}):(0,a.jsxs)("div",{className:(0,v.cn)("relative border-2 border-dashed rounded-lg p-8 transition-all duration-200",n?"border-primary bg-primary/5 scale-[1.02]":"border-border hover:border-primary/50"),onDragEnter:d,onDragLeave:m,onDragOver:c,onDrop:h,children:[(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-4 text-center",children:[(0,a.jsx)("div",{className:"rounded-full bg-primary/10 p-4",children:(0,a.jsx)(u.A,{className:"h-8 w-8 text-primary"})}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("p",{className:"text-lg font-medium",children:"Drag & drop your file here"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"or click to browse"})]}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"Supported formats: PDF, DOCX, DOC, HTML, PPTX, XLSX, RTF, ODT"})]}),(0,a.jsx)("input",{type:"file",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",onChange:e=>{let s=e.target.files;s&&s.length>0&&t(s[0])},accept:".pdf,.docx,.doc,.html,.pptx,.xlsx,.rtf,.odt"})]})})}var T=s(6170),P=s(235);function D(){let e=(0,o.useRouter)(),{user:t,clearAuth:s}=(0,x.n)(),j=(0,x.n)(e=>null!==e.token&&null!==e.user),v=(0,x.n)(e=>e._hasHydrated),[k,D]=(0,r.useState)(null),[S,F]=(0,r.useState)(""),[R,_]=(0,r.useState)(null),[E,O]=(0,r.useState)(""),[A,B]=(0,r.useState)(""),[L,M]=(0,r.useState)(""),[U,J]=(0,r.useState)(""),[z,H]=(0,r.useState)("");(0,r.useEffect)(()=>{v&&!j&&e.push("/login")},[j,v,e]);let I=(0,n.n)({mutationFn:p.Bt.convert,onSuccess:t=>{_(t.job_id),D(null),F(""),O(""),B(""),M(""),J(""),H(""),setTimeout(()=>{e.push("/jobs/".concat(t.job_id))},2e3)}});return t?(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted",children:[(0,a.jsx)("header",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:(0,a.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(l.A,{className:"h-6 w-6 text-primary"}),(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"Doc2MD"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("span",{className:"text-sm text-muted-foreground",children:["Welcome, ",(0,a.jsx)("span",{className:"font-medium text-foreground",children:t.username})]}),(0,a.jsxs)(f.$,{variant:"outline",size:"sm",onClick:()=>e.push("/api-keys"),children:[(0,a.jsx)(i.A,{className:"h-4 w-4 mr-2"}),"API Keys"]}),(0,a.jsxs)(f.$,{variant:"outline",size:"sm",onClick:()=>e.push("/jobs"),children:[(0,a.jsx)(c.A,{className:"h-4 w-4 mr-2"}),"My Jobs"]}),(0,a.jsxs)(f.$,{variant:"ghost",size:"sm",onClick:()=>{s(),e.push("/login")},children:[(0,a.jsx)(d.A,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})})}),(0,a.jsx)("main",{className:"container mx-auto px-4 py-12",children:(0,a.jsxs)("div",{className:"max-w-3xl mx-auto space-y-8",children:[(0,a.jsxs)(g.Zp,{children:[(0,a.jsxs)(g.aR,{children:[(0,a.jsxs)(g.ZB,{className:"flex items-center space-x-2",children:[(0,a.jsx)(l.A,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"Convert Document"})]}),(0,a.jsx)(g.BT,{children:"Choose your document source and convert it to Markdown format"})]}),(0,a.jsxs)(g.Wu,{className:"space-y-6",children:[R&&(0,a.jsxs)("div",{className:"rounded-md bg-green-500/10 border border-green-500/20 p-4 text-sm text-green-600 dark:text-green-400",children:[(0,a.jsx)("p",{className:"font-medium",children:"Conversion started!"}),(0,a.jsxs)("p",{className:"text-xs mt-1",children:["Job ID: ",R]}),(0,a.jsx)("p",{className:"text-xs mt-1",children:"Redirecting to job status..."})]}),I.isError&&(0,a.jsx)("div",{className:"rounded-md bg-destructive/10 border border-destructive/20 p-4 text-sm text-destructive",children:"Conversion failed. Please try again."}),(0,a.jsxs)(b,{defaultValue:"file",className:"w-full",children:[(0,a.jsxs)(y,{className:"grid w-full grid-cols-4",children:[(0,a.jsxs)(N,{value:"file",children:[(0,a.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"File"]}),(0,a.jsxs)(N,{value:"url",children:[(0,a.jsx)(m.A,{className:"h-4 w-4 mr-2"}),"URL"]}),(0,a.jsxs)(N,{value:"gdrive",children:[(0,a.jsx)(h.A,{className:"h-4 w-4 mr-2"}),"Google Drive"]}),(0,a.jsxs)(N,{value:"dropbox",children:[(0,a.jsx)(h.A,{className:"h-4 w-4 mr-2"}),"Dropbox"]})]}),(0,a.jsxs)(w,{value:"file",className:"space-y-4 mt-4",children:[(0,a.jsx)(C,{onFileSelect:D,selectedFile:k,onClear:()=>D(null)}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(P.J,{htmlFor:"customNameFile",children:"Custom Name (Optional)"}),(0,a.jsx)(T.p,{id:"customNameFile",type:"text",placeholder:"e.g., Monthly Report 2025",value:S,onChange:e=>F(e.target.value)})]}),(0,a.jsx)(f.$,{onClick:()=>{k&&I.mutate({source_type:"file",file:k,name:S||void 0})},disabled:!k||I.isPending,className:"w-full",size:"lg",children:I.isPending?"Converting...":"Convert to Markdown"})]}),(0,a.jsxs)(w,{value:"url",className:"space-y-4 mt-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(P.J,{htmlFor:"urlSource",children:"Document URL"}),(0,a.jsx)(T.p,{id:"urlSource",type:"url",placeholder:"https://example.com/document.pdf",value:E,onChange:e=>O(e.target.value)}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Enter a public URL to a document (PDF, DOCX, etc.)"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(P.J,{htmlFor:"customNameUrl",children:"Custom Name (Optional)"}),(0,a.jsx)(T.p,{id:"customNameUrl",type:"text",placeholder:"e.g., Monthly Report 2025",value:S,onChange:e=>F(e.target.value)})]}),(0,a.jsx)(f.$,{onClick:()=>{E&&I.mutate({source_type:"url",source:E,name:S||void 0})},disabled:!E||I.isPending,className:"w-full",size:"lg",children:I.isPending?"Converting...":"Convert from URL"})]}),(0,a.jsxs)(w,{value:"gdrive",className:"space-y-4 mt-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(P.J,{htmlFor:"gdriveSource",children:"Google Drive File ID"}),(0,a.jsx)(T.p,{id:"gdriveSource",type:"text",placeholder:"1BxiMVs0XRA5nFMdKvBdBZjgmUUqptlbs74OgvE2upms",value:A,onChange:e=>B(e.target.value)}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"The file ID from your Google Drive URL"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(P.J,{htmlFor:"gdriveToken",children:"OAuth2 Token"}),(0,a.jsx)(T.p,{id:"gdriveToken",type:"password",placeholder:"ya29.a0AfH6SMB...",value:L,onChange:e=>M(e.target.value)}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Your Google OAuth2 access token"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(P.J,{htmlFor:"customNameGdrive",children:"Custom Name (Optional)"}),(0,a.jsx)(T.p,{id:"customNameGdrive",type:"text",placeholder:"e.g., Monthly Report 2025",value:S,onChange:e=>F(e.target.value)})]}),(0,a.jsx)(f.$,{onClick:()=>{A&&L&&I.mutate({source_type:"gdrive",source:A,name:S||void 0,authToken:L})},disabled:!A||!L||I.isPending,className:"w-full",size:"lg",children:I.isPending?"Converting...":"Convert from Google Drive"})]}),(0,a.jsxs)(w,{value:"dropbox",className:"space-y-4 mt-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(P.J,{htmlFor:"dropboxSource",children:"Dropbox File Path"}),(0,a.jsx)(T.p,{id:"dropboxSource",type:"text",placeholder:"/documents/report.pdf",value:U,onChange:e=>J(e.target.value)}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"The path to your file in Dropbox"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(P.J,{htmlFor:"dropboxToken",children:"Access Token"}),(0,a.jsx)(T.p,{id:"dropboxToken",type:"password",placeholder:"sl.B1a2c3...",value:z,onChange:e=>H(e.target.value)}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Your Dropbox access token"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(P.J,{htmlFor:"customNameDropbox",children:"Custom Name (Optional)"}),(0,a.jsx)(T.p,{id:"customNameDropbox",type:"text",placeholder:"e.g., Monthly Report 2025",value:S,onChange:e=>F(e.target.value)})]}),(0,a.jsx)(f.$,{onClick:()=>{U&&z&&I.mutate({source_type:"dropbox",source:U,name:S||void 0,authToken:z})},disabled:!U||!z||I.isPending,className:"w-full",size:"lg",children:I.isPending?"Converting...":"Convert from Dropbox"})]})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)(g.Zp,{children:[(0,a.jsx)(g.aR,{children:(0,a.jsx)(g.ZB,{className:"text-lg",children:"Supported Formats"})}),(0,a.jsx)(g.Wu,{children:(0,a.jsxs)("ul",{className:"text-sm space-y-2 text-muted-foreground",children:[(0,a.jsx)("li",{children:"• PDF Documents"}),(0,a.jsx)("li",{children:"• Microsoft Word (DOCX, DOC)"}),(0,a.jsx)("li",{children:"• HTML Files"}),(0,a.jsx)("li",{children:"• PowerPoint (PPTX)"}),(0,a.jsx)("li",{children:"• Excel (XLSX)"}),(0,a.jsx)("li",{children:"• Rich Text Format (RTF)"}),(0,a.jsx)("li",{children:"• OpenDocument Text (ODT)"})]})})]}),(0,a.jsxs)(g.Zp,{children:[(0,a.jsx)(g.aR,{children:(0,a.jsx)(g.ZB,{className:"text-lg",children:"How It Works"})}),(0,a.jsx)(g.Wu,{children:(0,a.jsxs)("ol",{className:"text-sm space-y-2 text-muted-foreground",children:[(0,a.jsx)("li",{children:"1. Upload your document"}),(0,a.jsx)("li",{children:"2. Processing starts automatically"}),(0,a.jsx)("li",{children:"3. Track progress in real-time"}),(0,a.jsx)("li",{children:"4. Download Markdown output"}),(0,a.jsx)("li",{children:"5. Search and manage your jobs"})]})})]})]})]})})]}):(0,a.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:(0,a.jsx)("div",{className:"text-muted-foreground",children:"Loading..."})})}},3209:(e,t,s)=>{"use strict";s.d(t,{BT:()=>c,Wu:()=>d,ZB:()=>i,Zp:()=>n,aR:()=>l,wL:()=>u});var a=s(5155),r=s(2115),o=s(5016);let n=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...r})});n.displayName="Card";let l=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",s),...r})});l.displayName="CardHeader";let i=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("text-2xl font-semibold leading-none tracking-tight",s),...r})});i.displayName="CardTitle";let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",s),...r})});c.displayName="CardDescription";let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("p-6 pt-0",s),...r})});d.displayName="CardContent";let u=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("flex items-center p-6 pt-0",s),...r})});u.displayName="CardFooter"},5016:(e,t,s)=>{"use strict";s.d(t,{cn:()=>o});var a=s(2821),r=s(5889);function o(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.QP)((0,a.$)(t))}},5895:(e,t,s)=>{"use strict";s.d(t,{n:()=>o});var a=s(5959),r=s(9863);let o=(0,a.v)()((0,r.Zr)(e=>({user:null,token:null,_hasHydrated:!1,setAuth:(t,s)=>e({user:t,token:s}),clearAuth:()=>e({user:null,token:null}),setHasHydrated:t=>e({_hasHydrated:t})}),{name:"auth-storage",storage:(0,r.KU)(()=>localStorage),onRehydrateStorage:()=>e=>{null==e||e.setHasHydrated(!0)}}))},6170:(e,t,s)=>{"use strict";s.d(t,{p:()=>n});var a=s(5155),r=s(2115),o=s(5016);let n=r.forwardRef((e,t)=>{let{className:s,type:r,...n}=e;return(0,a.jsx)("input",{type:r,className:(0,o.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...n})});n.displayName="Input"},7003:(e,t,s)=>{"use strict";s.d(t,{$:()=>c,r:()=>i});var a=s(5155),r=s(2115),o=s(2467),n=s(3101),l=s(5016);let i=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=r.forwardRef((e,t)=>{let{className:s,variant:r,size:n,asChild:c=!1,...d}=e,u=c?o.DX:"button";return(0,a.jsx)(u,{className:(0,l.cn)(i({variant:r,size:n,className:s})),ref:t,...d})});c.displayName="Button"},7621:(e,t,s)=>{"use strict";s.d(t,{Bt:()=>n,ZQ:()=>o,t_:()=>l});let a=s(5704).env.NEXT_PUBLIC_API_URL||"http://localhost:8080";function r(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t={};if(e){let e=localStorage.getItem("auth_token");e&&(t.Authorization="Bearer ".concat(e))}return t}let o={async register(e){let t=await fetch("".concat(a,"/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw{response:{data:await t.json().catch(()=>({detail:"Registration failed"}))}};return t.json()},async login(e){let t=new URLSearchParams;t.append("username",e.username),t.append("password",e.password);let s=await fetch("".concat(a,"/auth/login"),{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:t});if(!s.ok)throw{response:{data:await s.json().catch(()=>({detail:"Login failed"}))}};return s.json()},async me(){let e=await fetch("".concat(a,"/auth/me"),{headers:r(!0)});if(!e.ok)throw Error("Failed to fetch user profile");return e.json()}},n={async convert(e){let t=new FormData;t.append("source_type",e.source_type),e.file&&t.append("file",e.file),e.source&&t.append("source",e.source),e.name&&t.append("name",e.name),e.authToken&&t.append("auth_token",e.authToken);let s=await fetch("".concat(a,"/convert"),{method:"POST",headers:r(!0),body:t});if(!s.ok)throw Error("Conversion failed: ".concat(s.statusText));return s.json()},async upload(e){let t=new FormData;t.append("file",e.file),e.name&&t.append("name",e.name);let s=await fetch("".concat(a,"/upload"),{method:"POST",headers:r(!0),body:t});if(!s.ok)throw Error("Upload failed: ".concat(s.statusText));return s.json()},async getStatus(e){let t=await fetch("".concat(a,"/jobs/").concat(e),{headers:r(!0)});if(!t.ok)throw Error("Failed to fetch job status: ".concat(t.statusText));return t.json()},async getResult(e){let t=await fetch("".concat(a,"/jobs/").concat(e,"/result"),{headers:r(!0)});if(!t.ok)throw Error("Failed to fetch job result: ".concat(t.statusText));return t.json()},async getPages(e){let t=await fetch("".concat(a,"/jobs/").concat(e,"/pages"),{headers:r(!0)});if(!t.ok)throw Error("Failed to fetch job pages: ".concat(t.statusText));return t.json()},async list(e){let t=new URLSearchParams;(null==e?void 0:e.limit)&&t.set("limit",e.limit.toString()),(null==e?void 0:e.offset)&&t.set("offset",e.offset.toString()),(null==e?void 0:e.status)&&t.set("status",e.status),(null==e?void 0:e.job_type)&&t.set("job_type",e.job_type);let s="".concat(a,"/jobs").concat(t.toString()?"?".concat(t):""),o=await fetch(s,{headers:r(!0)});if(!o.ok)throw Error("Failed to fetch jobs: ".concat(o.statusText));return o.json()},async search(e){let t=new URLSearchParams;t.set("query",e.query),e.limit&&t.set("limit",e.limit.toString());let s=await fetch("".concat(a,"/jobs/search?").concat(t),{headers:r(!0)});if(!s.ok)throw Error("Search failed: ".concat(s.statusText));return s.json()},async cancel(e){let t=await fetch("".concat(a,"/jobs/").concat(e,"/cancel"),{method:"POST",headers:r(!0)});if(!t.ok)throw Error("Failed to cancel job: ".concat(t.statusText));return t.json()},async getPageResultByNumber(e,t){let s=(await this.getPages(e)).pages.find(e=>e.page_number===t);if(!s)throw Error("Page ".concat(t," not found"));return this.getResult(s.job_id)},async delete(e){let t=await fetch("".concat(a,"/jobs/").concat(e),{method:"DELETE",headers:r(!0)});if(!t.ok)throw Error("Failed to delete job: ".concat(t.statusText));return t.json()},async retryPage(e){let t=await fetch("".concat(a,"/jobs/").concat(e,"/retry"),{method:"POST",headers:r(!0)});if(!t.ok)throw Error("Failed to retry page: ".concat(t.statusText));let s=await t.json();return s.new_job_id||s.job_id}},l={async list(){let e=await fetch("".concat(a,"/apikeys"),{headers:r(!0)});if(!e.ok)throw Error("Failed to list API keys: ".concat(e.statusText));return(await e.json()).api_keys||[]},async create(e){let t=await fetch("".concat(a,"/apikeys"),{method:"POST",headers:{...r(!0),"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error("Failed to create API key: ".concat(t.statusText));return t.json()},async revoke(e){let t=await fetch("".concat(a,"/apikeys/").concat(e),{method:"DELETE",headers:r(!0)});if(!t.ok)throw Error("Failed to revoke API key: ".concat(t.statusText));return t.json()}}}},e=>{e.O(0,[209,760,42,441,255,358],()=>e(e.s=677)),_N_E=e.O()}]);