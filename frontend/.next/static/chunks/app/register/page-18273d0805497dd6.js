(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[454],{235:(e,t,a)=>{"use strict";a.d(t,{J:()=>l});var r=a(5155),s=a(2115),n=a(489),o=a(3101),c=a(5016);let i=(0,o.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.b,{ref:t,className:(0,c.cn)(i(),a),...s})});l.displayName=n.b.displayName},2418:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var r=a(5155),s=a(2115),n=a(63),o=a(2619),c=a.n(o),i=a(549),l=a(7621),d=a(7003),u=a(6170),f=a(235),h=a(3209);function m(){let e=(0,n.useRouter)(),[t,a]=(0,s.useState)(""),[o,m]=(0,s.useState)(""),[p,g]=(0,s.useState)(""),[x,y]=(0,s.useState)(""),[b,w]=(0,s.useState)(!1),j=(0,i.n)({mutationFn:l.ZQ.register,onSuccess:()=>{w(!0),setTimeout(()=>{e.push("/login")},2e3)},onError:e=>{var t,a;y((null==(a=e.response)||null==(t=a.data)?void 0:t.detail)||"Registration failed. Please try again.")}});return b?(0,r.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-background to-muted p-4",children:(0,r.jsx)(h.Zp,{className:"w-full max-w-md",children:(0,r.jsxs)(h.aR,{children:[(0,r.jsx)(h.ZB,{className:"text-center text-2xl",children:"Success!"}),(0,r.jsx)(h.BT,{className:"text-center",children:"Your account has been created. Redirecting to login..."})]})})}):(0,r.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-background to-muted p-4",children:(0,r.jsxs)(h.Zp,{className:"w-full max-w-md",children:[(0,r.jsxs)(h.aR,{className:"space-y-1",children:[(0,r.jsx)(h.ZB,{className:"text-3xl font-bold text-center",children:"Create an Account"}),(0,r.jsx)(h.BT,{className:"text-center",children:"Start converting your documents to Markdown"})]}),(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),y(""),j.mutate({email:t,username:o,password:p})},children:[(0,r.jsxs)(h.Wu,{className:"space-y-4",children:[x&&(0,r.jsx)("div",{className:"rounded-md bg-destructive/10 border border-destructive/20 p-3 text-sm text-destructive",children:x}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(f.J,{htmlFor:"email",children:"Email"}),(0,r.jsx)(u.p,{id:"email",type:"email",placeholder:"Enter your email",value:t,onChange:e=>a(e.target.value),required:!0})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(f.J,{htmlFor:"username",children:"Username"}),(0,r.jsx)(u.p,{id:"username",type:"text",placeholder:"Choose a username",value:o,onChange:e=>m(e.target.value),required:!0,minLength:3,maxLength:50})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(f.J,{htmlFor:"password",children:"Password"}),(0,r.jsx)(u.p,{id:"password",type:"password",placeholder:"Create a password",value:p,onChange:e=>g(e.target.value),required:!0,minLength:6}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Password must be at least 6 characters long"})]})]}),(0,r.jsxs)(h.wL,{className:"flex flex-col space-y-4",children:[(0,r.jsx)(d.$,{type:"submit",className:"w-full",disabled:j.isPending,children:j.isPending?"Creating account...":"Sign Up"}),(0,r.jsxs)("p",{className:"text-sm text-center text-muted-foreground",children:["Already have an account?"," ",(0,r.jsx)(c(),{href:"/login",className:"text-primary hover:underline font-medium",children:"Sign in"})]})]})]})]})})}},2640:(e,t,a)=>{Promise.resolve().then(a.bind(a,2418))},3209:(e,t,a)=>{"use strict";a.d(t,{BT:()=>l,Wu:()=>d,ZB:()=>i,Zp:()=>o,aR:()=>c,wL:()=>u});var r=a(5155),s=a(2115),n=a(5016);let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...s})});o.displayName="Card";let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",a),...s})});c.displayName="CardHeader";let i=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",a),...s})});i.displayName="CardTitle";let l=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",a),...s})});l.displayName="CardDescription";let d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",a),...s})});d.displayName="CardContent";let u=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",a),...s})});u.displayName="CardFooter"},5016:(e,t,a)=>{"use strict";a.d(t,{cn:()=>n});var r=a(2821),s=a(5889);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.QP)((0,r.$)(t))}},6170:(e,t,a)=>{"use strict";a.d(t,{p:()=>o});var r=a(5155),s=a(2115),n=a(5016);let o=s.forwardRef((e,t)=>{let{className:a,type:s,...o}=e;return(0,r.jsx)("input",{type:s,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...o})});o.displayName="Input"},7003:(e,t,a)=>{"use strict";a.d(t,{$:()=>l,r:()=>i});var r=a(5155),s=a(2115),n=a(2467),o=a(3101),c=a(5016);let i=(0,o.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=s.forwardRef((e,t)=>{let{className:a,variant:s,size:o,asChild:l=!1,...d}=e,u=l?n.DX:"button";return(0,r.jsx)(u,{className:(0,c.cn)(i({variant:s,size:o,className:a})),ref:t,...d})});l.displayName="Button"},7621:(e,t,a)=>{"use strict";a.d(t,{Bt:()=>o,ZQ:()=>n,t_:()=>c});let r=a(5704).env.NEXT_PUBLIC_API_URL||"http://localhost:8080";function s(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t={};if(e){let e=localStorage.getItem("auth_token");e&&(t.Authorization="Bearer ".concat(e))}return t}let n={async register(e){let t=await fetch("".concat(r,"/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw{response:{data:await t.json().catch(()=>({detail:"Registration failed"}))}};return t.json()},async login(e){let t=new URLSearchParams;t.append("username",e.username),t.append("password",e.password);let a=await fetch("".concat(r,"/auth/login"),{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:t});if(!a.ok)throw{response:{data:await a.json().catch(()=>({detail:"Login failed"}))}};return a.json()},async me(){let e=await fetch("".concat(r,"/auth/me"),{headers:s(!0)});if(!e.ok)throw Error("Failed to fetch user profile");return e.json()}},o={async convert(e){let t=new FormData;t.append("source_type",e.source_type),e.file&&t.append("file",e.file),e.source&&t.append("source",e.source),e.name&&t.append("name",e.name),e.authToken&&t.append("auth_token",e.authToken);let a=await fetch("".concat(r,"/convert"),{method:"POST",headers:s(!0),body:t});if(!a.ok)throw Error("Conversion failed: ".concat(a.statusText));return a.json()},async upload(e){let t=new FormData;t.append("file",e.file),e.name&&t.append("name",e.name);let a=await fetch("".concat(r,"/upload"),{method:"POST",headers:s(!0),body:t});if(!a.ok)throw Error("Upload failed: ".concat(a.statusText));return a.json()},async getStatus(e){let t=await fetch("".concat(r,"/jobs/").concat(e),{headers:s(!0)});if(!t.ok)throw Error("Failed to fetch job status: ".concat(t.statusText));return t.json()},async getResult(e){let t=await fetch("".concat(r,"/jobs/").concat(e,"/result"),{headers:s(!0)});if(!t.ok)throw Error("Failed to fetch job result: ".concat(t.statusText));return t.json()},async getPages(e){let t=await fetch("".concat(r,"/jobs/").concat(e,"/pages"),{headers:s(!0)});if(!t.ok)throw Error("Failed to fetch job pages: ".concat(t.statusText));return t.json()},async list(e){let t=new URLSearchParams;(null==e?void 0:e.limit)&&t.set("limit",e.limit.toString()),(null==e?void 0:e.offset)&&t.set("offset",e.offset.toString()),(null==e?void 0:e.status)&&t.set("status",e.status),(null==e?void 0:e.job_type)&&t.set("job_type",e.job_type);let a="".concat(r,"/jobs").concat(t.toString()?"?".concat(t):""),n=await fetch(a,{headers:s(!0)});if(!n.ok)throw Error("Failed to fetch jobs: ".concat(n.statusText));return n.json()},async search(e){let t=new URLSearchParams;t.set("query",e.query),e.limit&&t.set("limit",e.limit.toString());let a=await fetch("".concat(r,"/jobs/search?").concat(t),{headers:s(!0)});if(!a.ok)throw Error("Search failed: ".concat(a.statusText));return a.json()},async cancel(e){let t=await fetch("".concat(r,"/jobs/").concat(e,"/cancel"),{method:"POST",headers:s(!0)});if(!t.ok)throw Error("Failed to cancel job: ".concat(t.statusText));return t.json()},async getPageResultByNumber(e,t){let a=(await this.getPages(e)).pages.find(e=>e.page_number===t);if(!a)throw Error("Page ".concat(t," not found"));return this.getResult(a.job_id)},async delete(e){let t=await fetch("".concat(r,"/jobs/").concat(e),{method:"DELETE",headers:s(!0)});if(!t.ok)throw Error("Failed to delete job: ".concat(t.statusText));return t.json()},async retryPage(e){let t=await fetch("".concat(r,"/jobs/").concat(e,"/retry"),{method:"POST",headers:s(!0)});if(!t.ok)throw Error("Failed to retry page: ".concat(t.statusText));let a=await t.json();return a.new_job_id||a.job_id}},c={async list(){let e=await fetch("".concat(r,"/apikeys"),{headers:s(!0)});if(!e.ok)throw Error("Failed to list API keys: ".concat(e.statusText));return(await e.json()).api_keys||[]},async create(e){let t=await fetch("".concat(r,"/apikeys"),{method:"POST",headers:{...s(!0),"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error("Failed to create API key: ".concat(t.statusText));return t.json()},async revoke(e){let t=await fetch("".concat(r,"/apikeys/").concat(e),{method:"DELETE",headers:s(!0)});if(!t.ok)throw Error("Failed to revoke API key: ".concat(t.statusText));return t.json()}}}},e=>{e.O(0,[209,296,441,255,358],()=>e(e.s=2640)),_N_E=e.O()}]);