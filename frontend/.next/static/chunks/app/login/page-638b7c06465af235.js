(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{235:(e,t,a)=>{"use strict";a.d(t,{J:()=>c});var r=a(5155),s=a(2115),n=a(6554),o=a(3101),i=a(5016);let l=(0,o.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.b,{ref:t,className:(0,i.cn)(l(),a),...s})});c.displayName=n.b.displayName},3209:(e,t,a)=>{"use strict";a.d(t,{BT:()=>c,Wu:()=>d,ZB:()=>l,Zp:()=>o,aR:()=>i,wL:()=>u});var r=a(5155),s=a(2115),n=a(5016);let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...s})});o.displayName="Card";let i=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",a),...s})});i.displayName="CardHeader";let l=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",a),...s})});l.displayName="CardTitle";let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",a),...s})});c.displayName="CardDescription";let d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",a),...s})});d.displayName="CardContent";let u=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",a),...s})});u.displayName="CardFooter"},5016:(e,t,a)=>{"use strict";a.d(t,{cn:()=>n});var r=a(2821),s=a(5889);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.QP)((0,r.$)(t))}},5036:(e,t,a)=>{"use strict";a.d(t,{t_:()=>i,ZQ:()=>o,Bt:()=>l});var r=a(5125);class s{get axios(){return this.client}constructor(){this.client=r.A.create({baseURL:"http://localhost:8080",headers:{"Content-Type":"application/json"}}),this.client.interceptors.request.use(e=>{{let t=localStorage.getItem("auth_token"),a=localStorage.getItem("api_key");t?e.headers.Authorization="Bearer ".concat(t):a&&(e.headers["X-API-Key"]=a)}return e},e=>Promise.reject(e)),this.client.interceptors.response.use(e=>e,e=>{var t;return(null==(t=e.response)?void 0:t.status)===401&&(localStorage.removeItem("auth_token"),localStorage.removeItem("api_key"),window.location.href="/login"),Promise.reject(e)})}}let n=new s,o={register:async e=>(await n.axios.post("/auth/register",e)).data,login:async e=>(await n.axios.post("/auth/login",e)).data,me:async()=>(await n.axios.get("/auth/me")).data},i={list:async()=>(await n.axios.get("/api-keys/")).data,create:async e=>(await n.axios.post("/api-keys/",e)).data,revoke:async e=>{await n.axios.delete("/api-keys/".concat(e))}},l={upload:async e=>{let t=new FormData;return t.append("file",e.file),e.name&&t.append("name",e.name),(await n.axios.post("/upload",t,{headers:{"Content-Type":"multipart/form-data"}})).data},convert:async(e,t)=>{let a=new FormData;a.append("source_type",e.source_type),e.source&&a.append("source",e.source),e.file&&a.append("file",e.file),e.name&&a.append("name",e.name);let r={"Content-Type":"multipart/form-data"};return t&&(r.Authorization=t),(await n.axios.post("/convert",a,{headers:r})).data},getStatus:async e=>(await n.axios.get("/jobs/".concat(e))).data,getResult:async e=>(await n.axios.get("/jobs/".concat(e,"/result"))).data,getPages:async e=>(await n.axios.get("/jobs/".concat(e,"/pages"))).data,getPageStatus:async(e,t)=>(await n.axios.get("/jobs/".concat(e,"/pages/").concat(t,"/status"))).data,getPageResult:async(e,t)=>(await n.axios.get("/jobs/".concat(e,"/pages/").concat(t,"/result"))).data,list:async e=>(await n.axios.get("/jobs",{params:e})).data,search:async e=>(await n.axios.get("/search",{params:e})).data}},5404:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>f});var r=a(5155),s=a(2115),n=a(63),o=a(2619),i=a.n(o),l=a(549),c=a(5036),d=a(5895),u=a(7003),m=a(6170),g=a(235),p=a(3209);function f(){let e=(0,n.useRouter)(),t=(0,d.n)(e=>e.setAuth),[a,o]=(0,s.useState)(""),[f,h]=(0,s.useState)(""),[v,x]=(0,s.useState)(""),y=(0,l.n)({mutationFn:c.ZQ.login,onSuccess:async a=>{t(await c.ZQ.me(),a.access_token),e.push("/dashboard")},onError:e=>{var t,a;x((null==(a=e.response)||null==(t=a.data)?void 0:t.detail)||"Login failed. Please try again.")}});return(0,r.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-background to-muted p-4",children:(0,r.jsxs)(p.Zp,{className:"w-full max-w-md",children:[(0,r.jsxs)(p.aR,{className:"space-y-1",children:[(0,r.jsx)(p.ZB,{className:"text-3xl font-bold text-center",children:"Welcome to Doc2MD"}),(0,r.jsx)(p.BT,{className:"text-center",children:"Enter your credentials to access your account"})]}),(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),x(""),y.mutate({username:a,password:f})},children:[(0,r.jsxs)(p.Wu,{className:"space-y-4",children:[v&&(0,r.jsx)("div",{className:"rounded-md bg-destructive/10 border border-destructive/20 p-3 text-sm text-destructive",children:v}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(g.J,{htmlFor:"username",children:"Username or Email"}),(0,r.jsx)(m.p,{id:"username",type:"text",placeholder:"Enter your username or email",value:a,onChange:e=>o(e.target.value),required:!0})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(g.J,{htmlFor:"password",children:"Password"}),(0,r.jsx)(m.p,{id:"password",type:"password",placeholder:"Enter your password",value:f,onChange:e=>h(e.target.value),required:!0})]})]}),(0,r.jsxs)(p.wL,{className:"flex flex-col space-y-4",children:[(0,r.jsx)(u.$,{type:"submit",className:"w-full",disabled:y.isPending,children:y.isPending?"Signing in...":"Sign In"}),(0,r.jsxs)("p",{className:"text-sm text-center text-muted-foreground",children:["Don't have an account?"," ",(0,r.jsx)(i(),{href:"/register",className:"text-primary hover:underline font-medium",children:"Sign up"})]})]})]})]})})}},5895:(e,t,a)=>{"use strict";a.d(t,{n:()=>n});var r=a(5959),s=a(9863);let n=(0,r.v)()((0,s.Zr)((e,t)=>({user:null,token:null,setAuth:(t,a)=>{localStorage.setItem("auth_token",a),e({user:t,token:a})},clearAuth:()=>{localStorage.removeItem("auth_token"),localStorage.removeItem("api_key"),e({user:null,token:null})},isAuthenticated:()=>{let e=t();return null!==e.token&&null!==e.user}}),{name:"auth-storage"}))},5959:(e,t,a)=>{"use strict";a.d(t,{v:()=>o});var r=a(2115);let s=e=>{let t,a=new Set,r=(e,r)=>{let s="function"==typeof e?e(t):e;if(!Object.is(s,t)){let e=t;t=(null!=r?r:"object"!=typeof s||null===s)?s:Object.assign({},t,s),a.forEach(a=>a(t,e))}},s=()=>t,n={setState:r,getState:s,getInitialState:()=>o,subscribe:e=>(a.add(e),()=>a.delete(e))},o=t=e(r,s,n);return n},n=e=>{let t=(e=>e?s(e):s)(e),a=e=>(function(e,t=e=>e){let a=r.useSyncExternalStore(e.subscribe,r.useCallback(()=>t(e.getState()),[e,t]),r.useCallback(()=>t(e.getInitialState()),[e,t]));return r.useDebugValue(a),a})(t,e);return Object.assign(a,t),a},o=e=>e?n(e):n},6170:(e,t,a)=>{"use strict";a.d(t,{p:()=>o});var r=a(5155),s=a(2115),n=a(5016);let o=s.forwardRef((e,t)=>{let{className:a,type:s,...o}=e;return(0,r.jsx)("input",{type:s,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...o})});o.displayName="Input"},7003:(e,t,a)=>{"use strict";a.d(t,{$:()=>c});var r=a(5155),s=a(2115),n=a(6673),o=a(3101),i=a(5016);let l=(0,o.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=s.forwardRef((e,t)=>{let{className:a,variant:s,size:o,asChild:c=!1,...d}=e,u=c?n.DX:"button";return(0,r.jsx)(u,{className:(0,i.cn)(l({variant:s,size:o,className:a})),ref:t,...d})});c.displayName="Button"},9701:(e,t,a)=>{Promise.resolve().then(a.bind(a,5404))},9863:(e,t,a)=>{"use strict";a.d(t,{Zr:()=>s});let r=e=>t=>{try{let a=e(t);if(a instanceof Promise)return a;return{then:e=>r(e)(a),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>r(t)(e)}}},s=(e,t)=>(a,s,n)=>{let o,i={storage:function(e,t){let a;try{a=e()}catch(e){return}return{getItem:e=>{var t;let r=e=>null===e?null:JSON.parse(e,void 0),s=null!=(t=a.getItem(e))?t:null;return s instanceof Promise?s.then(r):r(s)},setItem:(e,t)=>a.setItem(e,JSON.stringify(t,void 0)),removeItem:e=>a.removeItem(e)}}(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},l=!1,c=new Set,d=new Set,u=i.storage;if(!u)return e((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),a(...e)},s,n);let m=()=>{let e=i.partialize({...s()});return u.setItem(i.name,{state:e,version:i.version})},g=n.setState;n.setState=(e,t)=>(g(e,t),m());let p=e((...e)=>(a(...e),m()),s,n);n.getInitialState=()=>p;let f=()=>{var e,t;if(!u)return;l=!1,c.forEach(e=>{var t;return e(null!=(t=s())?t:p)});let n=(null==(t=i.onRehydrateStorage)?void 0:t.call(i,null!=(e=s())?e:p))||void 0;return r(u.getItem.bind(u))(i.name).then(e=>{if(e)if("number"!=typeof e.version||e.version===i.version)return[!1,e.state];else{if(i.migrate){let t=i.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(e=>{var t;let[r,n]=e;if(a(o=i.merge(n,null!=(t=s())?t:p),!0),r)return m()}).then(()=>{null==n||n(o,void 0),o=s(),l=!0,d.forEach(e=>e(o))}).catch(e=>{null==n||n(void 0,e)})};return n.persist={setOptions:e=>{i={...i,...e},e.storage&&(u=e.storage)},clearStorage:()=>{null==u||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>f(),hasHydrated:()=>l,onHydrate:e=>(c.add(e),()=>{c.delete(e)}),onFinishHydration:e=>(d.add(e),()=>{d.delete(e)})},i.skipHydration||f(),o||p}}},e=>{e.O(0,[643,64,932,441,255,358],()=>e(e.s=9701)),_N_E=e.O()}]);