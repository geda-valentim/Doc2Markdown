(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[840],{2912:(e,s,a)=>{Promise.resolve().then(a.bind(a,5047))},5047:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>b});var t=a(5155),r=a(2115),n=a(63),i=a(9776),c=a(2454),l=a(549),d=a(5626),o=a(5370),x=a(1847);let h=(0,x.A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var m=a(1362);let u=(0,x.A)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),y=(0,x.A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var p=a(5036),j=a(5895),v=a(7003),g=a(6170),k=a(235),f=a(3209),N=a(7830);function b(){let e=(0,n.useRouter)(),s=(0,i.jE)(),a=(0,j.n)(e=>e.isAuthenticated()),[x,b]=(0,r.useState)(!1),[A,P]=(0,r.useState)(""),[w,I]=(0,r.useState)(30),[C,_]=(0,r.useState)(null),[K,S]=(0,r.useState)(!1);(0,r.useEffect)(()=>{a||e.push("/login")},[a,e]);let{data:B,isLoading:F}=(0,c.I)({queryKey:["api-keys"],queryFn:p.t_.list}),M=(0,l.n)({mutationFn:p.t_.create,onSuccess:e=>{_(e.api_key),P(""),I(30),b(!1),s.invalidateQueries({queryKey:["api-keys"]})}}),T=(0,l.n)({mutationFn:p.t_.revoke,onSuccess:()=>{s.invalidateQueries({queryKey:["api-keys"]})}});return(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted",children:[(0,t.jsx)("header",{className:"border-b bg-background/95 backdrop-blur",children:(0,t.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,t.jsxs)(v.$,{variant:"ghost",onClick:()=>e.push("/dashboard"),children:[(0,t.jsx)(d.A,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})})}),(0,t.jsx)("main",{className:"container mx-auto px-4 py-12",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[(0,t.jsx)(o.A,{className:"h-8 w-8"}),"API Keys"]}),(0,t.jsx)("p",{className:"text-muted-foreground mt-1",children:"Manage API keys for programmatic access"})]}),(0,t.jsxs)(v.$,{onClick:()=>b(!x),children:[(0,t.jsx)(h,{className:"h-4 w-4 mr-2"}),"Create API Key"]})]}),C&&(0,t.jsxs)(f.Zp,{className:"border-green-500/50 bg-green-500/5",children:[(0,t.jsxs)(f.aR,{children:[(0,t.jsxs)(f.ZB,{className:"text-green-600 dark:text-green-400 flex items-center gap-2",children:[(0,t.jsx)(m.A,{className:"h-5 w-5"}),"API Key Created Successfully"]}),(0,t.jsx)(f.BT,{children:"Make sure to copy your API key now. You won't be able to see it again!"})]}),(0,t.jsxs)(f.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(g.p,{value:C,readOnly:!0,className:"font-mono text-sm"}),(0,t.jsx)(v.$,{onClick:()=>{navigator.clipboard.writeText(C),S(!0),setTimeout(()=>S(!1),2e3)},variant:"outline",children:K?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(m.A,{className:"h-4 w-4 mr-2"}),"Copied"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u,{className:"h-4 w-4 mr-2"}),"Copy"]})})]}),(0,t.jsx)(v.$,{variant:"outline",size:"sm",onClick:()=>_(null),children:"I've saved my API key"})]})]}),x&&(0,t.jsxs)(f.Zp,{children:[(0,t.jsxs)(f.aR,{children:[(0,t.jsx)(f.ZB,{children:"Create New API Key"}),(0,t.jsx)(f.BT,{children:"API keys are used for programmatic access to the API"})]}),(0,t.jsxs)(f.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(k.J,{htmlFor:"keyName",children:"Key Name"}),(0,t.jsx)(g.p,{id:"keyName",placeholder:"e.g., Production Server",value:A,onChange:e=>P(e.target.value)})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(k.J,{htmlFor:"expires",children:"Expires In (days)"}),(0,t.jsx)(g.p,{id:"expires",type:"number",min:1,max:365,value:w,onChange:e=>I(parseInt(e.target.value))}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Leave at 30 days or set to 365 for long-term keys"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(v.$,{onClick:()=>{M.mutate({name:A,expires_in_days:w||null})},disabled:!A||M.isPending,children:M.isPending?"Creating...":"Create Key"}),(0,t.jsx)(v.$,{variant:"outline",onClick:()=>b(!1),children:"Cancel"})]})]})]}),(0,t.jsxs)(f.Zp,{children:[(0,t.jsxs)(f.aR,{children:[(0,t.jsx)(f.ZB,{children:"Your API Keys"}),(0,t.jsxs)(f.BT,{children:[(null==B?void 0:B.length)||0," active API key(s)"]})]}),(0,t.jsx)(f.Wu,{children:F?(0,t.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:"Loading..."}):B&&B.length>0?(0,t.jsx)("div",{className:"space-y-4",children:B.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"font-medium",children:e.name}),(0,t.jsxs)("div",{className:"flex gap-4 mt-1 text-sm text-muted-foreground",children:[(0,t.jsxs)("span",{children:["Created ",(0,N.m)(new Date(e.created_at),{addSuffix:!0})]}),e.last_used_at&&(0,t.jsxs)("span",{children:["Last used ",(0,N.m)(new Date(e.last_used_at),{addSuffix:!0})]}),e.expires_at&&(0,t.jsxs)("span",{children:["Expires ",(0,N.m)(new Date(e.expires_at),{addSuffix:!0})]})]})]}),(0,t.jsx)(v.$,{variant:"ghost",size:"icon",onClick:()=>{var s;return s=e.id,void(confirm("Are you sure you want to revoke this API key? This action cannot be undone.")&&T.mutate(s))},disabled:T.isPending,className:"text-destructive hover:text-destructive",children:(0,t.jsx)(y,{className:"h-4 w-4"})})]},e.id))}):(0,t.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,t.jsx)(o.A,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,t.jsx)("p",{children:"No API keys yet"}),(0,t.jsx)("p",{className:"text-sm mt-2",children:"Create one to start using the API programmatically"})]})})]}),(0,t.jsxs)(f.Zp,{children:[(0,t.jsx)(f.aR,{children:(0,t.jsx)(f.ZB,{children:"How to Use API Keys"})}),(0,t.jsxs)(f.Wu,{className:"space-y-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium mb-2",children:"Include the API key in your requests:"}),(0,t.jsx)("pre",{className:"bg-muted p-4 rounded-lg overflow-x-auto",children:'curl -X POST http://localhost:8080/upload \\\n  -H "X-API-Key: doc2md_sk_..." \\\n  -F "file=@document.pdf"'})]}),(0,t.jsxs)("div",{className:"text-muted-foreground",children:[(0,t.jsx)("p",{children:"• API keys provide the same access as your user account"}),(0,t.jsx)("p",{children:"• Keep your API keys secret and never commit them to version control"}),(0,t.jsx)("p",{children:"• Revoke any keys that may have been compromised"}),(0,t.jsx)("p",{children:"• Use different keys for different environments (dev, staging, prod)"})]})]})]})]})})]})}}},e=>{e.O(0,[643,64,315,269,921,441,255,358],()=>e(e.s=2912)),_N_E=e.O()}]);